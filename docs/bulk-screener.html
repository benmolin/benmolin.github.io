<html>

<head>

    <title>SNAP Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- Tailwind CSS -->
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">

    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>

    <!-- Custom CSS -->
    <link href="shared/css/bulkScreener.css" rel="stylesheet">

</head>

<body class='flex flex-col h-screen justify-between  bg-gray-100'>

    <!-- MAIN -->
    <main role="main" id='main-bulk' class="container mb-auto pt-3 sm:pt-5 sm:mt-5 pb-5 max-w-screen-lg">

        <div class='mx-auto text-center mb-4'>
            <h1>
                Bulk SNAP Prescreener
            </h1>
            <h3>
                Prescreen an entire table of clients for SNAP Eligibility by uploading a CSV<br>
                <div class='text-orange-600'>⚠️ Prototype, untested and for demonstration only ⚠</div>
            </h3>
            <small><a href='https://github.com/benmolin/benmolin.github.io'>GitHub</a> forked from <a
                    href='https://github.com/18F/snap-js-api-prototype'>snap-js-api-prototype</a> and <a
                    href='https://github.com/18F/snap-js-prescreener-prototypes'>snap-js-prescreener-prototypes</a>
            </small>

        </div>

        <div class='step'>
            <h2>Step 1: Make sure you are working in a supported web browser</h2>
            <h4>This calculator has been tested using Chrome. This calculator will not work on mobile
                devices, and may not work with other browsers such as Internet Explorer.</h4>
        </div>

        <div class='step'>
            <h2>Step 2: Make sure your CSV is formatted correctly</h2>
            <h4>To use this calculator, you need the following five columns with these exact column names.</h4>

            <table class="table-auto mb-2 leading-relaxed">
                <thead>
                    <tr>
                        <th>Column</th>
                        <th>Description</th>
                        <th>Format</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>STATE</td>
                        <td>State for which to check eligibility</td>
                        <td>Two-letter abbreviation (e.g. "PA")</td>
                    </tr>
                    <tr>
                        <td>HH_SIZE</td>
                        <td>Household size (or use IRS Exemptions)</td>
                        <td>A number >= 1, (e.g. 3)</td>
                    </tr>
                    <tr>
                        <td>SENIOR_IN_HOUSEHOLD</td>
                        <td>Whether an individual 60+ is part of the household</td>
                        <td>1 if true. All other values interpreted as false</td>
                    </tr>
                    <tr>
                        <td>DISABILITY_IN_HOUSEHOLD</td>
                        <td>Whether an individual with a disability is part of the household
                        </td>
                        <td>1 if true. All other values interpreted as false</td>
                    </tr>
                    <tr>
                        <td>MONTHLY_JOB_INCOME</td>
                        <td>Last months income (or use AGI and divide by 12)</td>
                        <td>A number (e.g. 1200). Use the "number" column format in Excel. Do
                            not use
                            the accounting or currency formats which add commas.</td>
                    </tr>
                </tbody>
            </table>
            <small class="form-text text-muted">
                It does not matter if you have other columns, however if you are running into errors you may want to
                delete your other columns. There cannot be any "," or "#" characters in any of your column names, and
                other non-letter characters may also break this calculator.
            </small>

            <h4 class='mt-5'>
                Your file must be of type ".csv" (comma-separated-values), not an Excel file. You can
                convert an Excel file to a csv file by clicking "save-as" and then choosing ".csv." If you are
                converting
                the file from Excel, after saving it as a csv, close and re-open the new csv file and save it again.
                This will remove blank extra rows that sometimes get added below your data when saving Excel files.
                <br><br>
                If you need a sample CSV to test this with, download one here. You can also use this csv as a template
                for our own data.
            </h4>

            <button type="button" class="btn btn-primary btn-md font-bold" id='sample-csv'>
                Download Sample CSV
            </button>

        </div>

        <div class='step'>
            <h2>Step 3: Upload your CSV</h2>
            <h4>Results will be calculated as soon as your file is uploaded.</h4>
            <input type="file" name="File Upload" id="csvUpload" class='mb-4' accept=".csv" />

            <div id='error-message' class="alert alert-danger d-none" role='alert'></div>
            <div id='upload-message' class="alert alert-success d-none" role="alert"></div>
            <div id='results-array'></div>
        </div>


        <div class='step'>
            <h2>Step 4: Download your results</h2>
            <h4>There will be an extra row with the estimated eligibility.</h4>

            <button type="button" class="btn btn-success btn-md font-bold" id='download-button' disabled>
                Download Results CSV
            </button>
        </div>

    </main>

</body>

<!-- Custom JS -->
<script src="api.js"></script>
<script src="shared/js/bulkScreener.js"></script>


</html>